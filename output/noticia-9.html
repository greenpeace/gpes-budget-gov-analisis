<!-- ************************* BEGIN MEDIA 3 ************************* -->
<script src="https://www.gstatic.com/charts/loader.js"></script>
<script>
    google.charts.load('current', {
        'packages': ['treemap'],
        language: 'es'
    });

</script>

<div id="chart_div" style="width: 100%; height: 400px;"></div>
<p><small>Haz clic para ver con más detalle y right-click para ver general</small></p>

<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Location', 'Parent', 'Importe (tamaño)', '(color)'],
                ['Ingresos del Estado 2019', null, 0, 0],

                ['Impuestos directos y cotizaciones sociales', 'Ingresos del Estado 2019', 0, 0],
                ['Impuestos indirectos', 'Ingresos del Estado 2019', 0, 0],
                ['Tasas y otros ingresos', 'Ingresos del Estado 2019', 0, 0],
                ['Ingresos medioambientales y energéticos', 'Ingresos del Estado 2019', 0, 0],

                ['IRPF', 'Impuestos directos y cotizaciones sociales', 70963000000, 0],
                ['Impuestos sobre el capital', 'Impuestos directos y cotizaciones sociales', 220000000, 0],
                ['Cotizaciones sociales', 'Impuestos directos y cotizaciones sociales', 908488960, 0],

                ['IVA', 'Impuestos indirectos', 40319000000, 0],
                ['Otros impuestos indirectos', 'Impuestos indirectos', 9012000000, 0],

                ['Tasas', 'Tasas y otros ingresos', 814202000, 0],
                ['Ingresos por prestación de servicios', 'Tasas y otros ingresos', 439355380, 0],
                ['Ingresos patrimoniales, transferencias de capital y otros', 'Tasas y otros ingresos', 27038861840, 0],

                ['Impuesto sobre la producción de combustible nuclear', 'Ingresos medioambientales y energéticos', 290400000, 0],
                ['Impuesto sobre carbón', 'Ingresos medioambientales y energéticos', 293000000, 0],
                ['Sobre los Gases Fluorados de Efecto Invernadero ', 'Ingresos medioambientales y energéticos', 110000000, 100],
                ['Canon hidráulico', 'Ingresos medioambientales y energéticos', 235000000, 100],
                ['Sobre el valor de la producción de la energía eléctrica', 'Ingresos medioambientales y energéticos', 710000000, 0],
                ['Sobre hidrocarburos', 'Ingresos medioambientales y energéticos', 4801118740, 0],
                ['Sobre la electricidad ', 'Ingresos medioambientales y energéticos', 133000000, 0],
                ['Subasta de derechos de emisión', 'Ingresos medioambientales y energéticos', 1100000000, 0]

            ]);

            tree = new google.visualization.TreeMap(document.getElementById('chart_div'));

            var options = {

                minColor: '#8EE5BB',
                midColor: '#FF4D16',
                maxColor: '#FF4D16',

                title: 'Ingresos del Estado',
                titleTextStyle: {
                    color: '#000',
                    fontName: '"Work Sans",sans-serif',
                    fontSize: 16,
                    bold: true,
                    italic: false
                },

                textStyle: {
                    color: '#000',
                    fontName: '"Work Sans",sans-serif',
                    fontSize: 13,
                    bold: false,
                    italic: false
                },

                headerColor: '#ddd',
                headerHeight: 30,

                fontFamily: '"Work Sans",sans-serif',
                fontSize: 13,
                fontColor: '#000',

                showScale: false,
                highlightOnMouseOver: false,
                showTooltips: true,
                generateTooltip: showFullTooltip
            };

            tree.draw(data, options);

            function showFullTooltip(row, size, value) {
                return '<div style="background:#fff; padding:10px; border: 1px solid">' +
                    '<span>' + data.getValue(row, 0) + '<br>' + size.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + ' €' +
                    ' </div>';
            }

        }
    });

</script>

<!-- ************************* END MEDIA 3 ************************* -->
