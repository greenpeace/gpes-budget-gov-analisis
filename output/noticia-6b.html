<script src="https://cdn.jsdelivr.net/npm/chart.js@2.7.2/dist/Chart.bundle.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-deferred@1.0.1" defer></script>
<div class="chart-container" style="position: relative; height:auto; width:100%">
  <canvas id="line_chart_1" width="350" height="250"></canvas>
</div>

<script>
document.addEventListener("DOMContentLoaded", function(event) {
  var ctx = document.getElementById("line_chart_1");
  var line_chart_1 = new Chart(ctx, {
    type: 'line',
    data: {
      labels: ["2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019"],
      datasets: [{
        label: 'Presupuesto',
        data: [116441210, 91726570, 86723950, 83899430, 82664070, 83424920, 92855590, 89759540, 87304680, 90429230, 105043500 ],
        borderColor: 'rgba(142, 229, 187, 1)',
        backgroundColor: 'rgba(0,0,0,0)'
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Presupuesto del Programa de destinado a I+D+i en materia Medioambiental, Energética y Tecnológica ',
        fontSize: 16,
        fontFamily: '"Work Sans",sans-serif'
      },
      legend: {
        display: true,
        labels: {
          fontName: '"Work Sans",sans-serif',
          fontSize: 13
        }
      },
      layout: {
        padding: {
          bottom: 20
        }
      },

      tooltips: {
        callbacks: {
          label: function(tooltipItem, data) {
            var value = tooltipItem.yLabel;
            if (parseInt(value) >= 1000) {
              return " " + value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + ' €';
            } else {
              return '€' + value;
            }
          }
        }
      },
      scales: {
        yAxes: [{
          ticks: {
            beginAtZero: true,
            // max: 25,
            fontFamily: '"Work Sans",sans-serif',
            callback: function(label, index, labels) {
              return label / 1000000 + ' ';
            }
          },
          scaleLabel: {
            display: true,
            labelString: 'Importe en milliones de euro',
            fontFamily: '"Work Sans",sans-serif'
          }
        }],
        xAxes: [{
          ticks: {
            beginAtZero: true,
            fontFamily: '"Work Sans",sans-serif'
          },
          scaleLabel: {
            display: true,
            labelString: 'Año',
            fontFamily: '"Work Sans",sans-serif'
          }
        }]
      }
    }
  });
});
</script>
